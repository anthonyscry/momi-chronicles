---
phase: 29-signal-integrity
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/PROJECT.md
autonomous: true

must_haves:
  truths:
    - "PROJECT.md accurately describes all 3 playable characters with correct species, roles, and unique mechanics"
    - "PROJECT.md documents the full progression arc from Neighborhood through Boss Arena"
    - "PROJECT.md covers all features implemented through v1.4"
  artifacts:
    - path: ".planning/PROJECT.md"
      provides: "Complete project snapshot through v1.4"
      contains: "Bulldog Squad"
  key_links:
    - from: ".planning/PROJECT.md"
      to: "codebase reality"
      via: "accurate documentation"
      pattern: "Cinnamon.*English Bulldog"
---

<objective>
Full rewrite of PROJECT.md to reflect the actual game through v1.4.

Purpose: Current PROJECT.md has outdated character descriptions (Cinnamon described as a Cat, Philo as a Golden Retriever — they're actually English Bulldog and Boston Terrier). Features list is incomplete. This rewrite creates an accurate snapshot of the game.

Output: Comprehensive PROJECT.md with dual audience: game overview (accessible) + technical reference (developer).
</objective>

<execution_context>
@~/.config/Claude/get-shit-done/workflows/execute-plan.md
@~/.config/Claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Full rewrite of PROJECT.md</name>
  <files>.planning/PROJECT.md</files>
  <action>
Read the current PROJECT.md, then completely rewrite it. This is a full rewrite, not a patch.

**Structure (dual audience):**

## Top Section: Game Overview (accessible to anyone)

### Vision
Keep existing vision text but update to reflect actual scope (not just "neighborhoods to explore" — we have sewers, boss arena, shop system, companions).

### The Bulldog Squad (Character Profiles)
For each character, write a few sentences covering: name, species/breed, role, personality quirk, unique mechanic.

**Momi** (French Bulldog) — Leader / DPS
- Brave, loyal, protective. Leads the neighborhood watch.
- Zoomies mechanic: builds speed and damage through sustained combat
- Combat: 3-hit combo chains, charge attack, ground pound (level 5+), dodge roll
- The player character

**Cinnamon** (English Bulldog) — Tank
- NOT a cat. English Bulldog. Tough, stubborn, reliable.
- Overheat mechanic: absorbs damage but overheats if pushed too hard
- Draws aggro, soaks hits for the squad

**Philo** (Boston Terrier) — Support  
- NOT a Golden Retriever. Boston Terrier. Laid-back, lazy until motivated.
- Lazy/Motivated mechanic: starts lazy (weak), gets motivated when Momi takes hits
- Motivation restores when Momi is hit, making him more effective in tough fights

### Story Context
Brief — mysterious threats in the neighborhood, Momi investigates with the Bulldog Squad.

### The World (Progression Arc)
Document the full player journey:
1. **Neighborhood** — Starting zone. Shop (Nutkin the Squirrel). Alpha Raccoon mini-boss. Manhole to Sewers.
2. **Backyard** — Second zone. Crow Matriarch mini-boss. Tougher enemies.
3. **Sewers** — Dungeon zone. Darkness, toxic puddles, sewer rats. Rat King mini-boss. Path to Boss Arena.
4. **Boss Arena** — Final zone. Raccoon King boss fight (200 HP, 3 phases, enrage at 50%).

### Enemy Roster
- **Raccoon** — Basic melee enemy, patrols and chases
- **Crow** — Aerial enemy, dive attacks
- **Stray Cat** — Stealth ambusher, pounces from hiding
- **Sewer Rat** — Swarm enemy (packs of 3-4), poison bite
- **Shadow Creature** — Phases in/out of visibility, ranged shadow bolt
- **Mini-bosses**: Alpha Raccoon (ground slam + summon), Crow Matriarch (dive bomb + swarm), Rat King (poison cloud + splits at 50%)
- **Boss**: Raccoon King (200 HP, 3 attack patterns, enrage phase)

## Bottom Section: Technical Reference (developer details)

### Technical Stack
- Engine: Godot 4.5
- Language: GDScript
- Resolution: 384x216 (16:9 pixel art)
- Art Style: Pixel art, 16x16/32x32 sprites
- Perspective: 3/4 top-down (Stardew Valley style)

### Architecture
- Component-based architecture (HitboxComponent, HealthComponent, GuardComponent, etc.)
- Events autoload signal bus for decoupled communication
- Call-down-signal-up pattern
- Path-based extends (not class_name) to avoid autoload scope issues
- Programmatic UI (code-built in _ready) — matches ring_menu pattern
- preload() for all scene references (eliminates runtime stutter)
- Cache scenes with load() at zone init for dynamic paths

### Systems Inventory
List all major systems with their key files:
- **Combat**: Combo chain, charge attack, ground pound, block/parry, dodge
- **Progression**: EXP/Level system (1-20), stat scaling on level up
- **Items & Inventory**: Consumables (heal, buff, cure, revive), drop tables, max 20 slots
- **Equipment**: 5 slots, stat bonuses, managed by EquipmentManager
- **Ring Menu**: Secret of Mana-style radial menu — Items, Equipment, Companions, Options rings
- **Companions**: 3-member party system, knocked out/revive mechanics, unique meters
- **Save System**: Atomic write with backup, auto-save on zone entry/boss defeat, version v3
- **Shop**: Nutkin NPC, buy/sell, restock on zone re-entry, stock tracking
- **AI (AutoBot)**: Full game-playing AI, F1 toggle, dynamic zone awareness, smart item/gear management

### Autoloads
- GameManager — Game state, pause, zone transitions, currency
- SaveManager — Save/load with atomic writes and backup
- Events — Global signal bus (30+ signals)
- AudioManager — BGM + SFX
- EffectsManager — Visual effects (hit flash, screen shake, particles)
- ItemDatabase — Item definitions and effect types
- DebugLogger — Development logging
- AutoBot — AI player (F1 toggle)

### Save Data (v3)
- Level, total EXP, coins, current zone
- Boss/mini-boss defeated flags
- Equipment loadout, inventory items, party state
- Backward compatible with v1/v2 saves via .get() defaults

### Current Milestone
v1.5 Integration & Quality Audit — fixing bugs and wiring missing signals from codebase audit.

### Art Assets
Existing AI-generated sprites in `gemini_images/` folder.

**Important notes:**
- Remove ALL duplicate sections from current PROJECT.md (it has Technical Stack listed twice, Main Characters listed twice)
- Ensure character descriptions are CORRECT: Cinnamon = English Bulldog (Tank), Philo = Boston Terrier (Support)
- Do NOT include the v1.0 through v1.4 "Validated Capabilities" section — that belongs in ROADMAP.md, not PROJECT.md
- Keep the document under ~150 lines — concise reference, not a novel
  </action>
  <verify>
Read the rewritten PROJECT.md and confirm:
1. Cinnamon described as English Bulldog (not Cat)
2. Philo described as Boston Terrier (not Golden Retriever)
3. All 4 zones documented (Neighborhood, Backyard, Sewers, Boss Arena)
4. All enemy types listed
5. No duplicate sections
6. Dual audience structure (overview + technical)
7. Systems inventory covers combat, progression, items, equipment, ring menu, companions, save, shop, AutoBot
  </verify>
  <done>
PROJECT.md fully rewritten. Characters accurately described. Full progression arc documented. All systems listed. No outdated information. Under 150 lines.
  </done>
</task>

</tasks>

<verification>
1. Read PROJECT.md — Cinnamon is English Bulldog, Philo is Boston Terrier
2. Read PROJECT.md — all 4 zones, 5 enemy types, 3 mini-bosses, 1 boss documented
3. Read PROJECT.md — no duplicate Technical Stack or Main Characters sections
4. Read PROJECT.md — architecture section covers component-based, Events bus, call-down-signal-up
</verification>

<success_criteria>
1. PROJECT.md accurately reflects the game as of v1.4 completion
2. Character profiles correct (English Bulldog, Boston Terrier — NOT Cat, Golden Retriever)
3. Full world progression arc documented
4. Technical reference section covers all major systems and architectural decisions
5. No duplicate content, clean structure
</success_criteria>

<output>
After completion, create `.planning/phases/29-signal-integrity/29-03-SUMMARY.md`
</output>
