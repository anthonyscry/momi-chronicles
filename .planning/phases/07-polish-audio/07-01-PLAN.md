# Plan 01: Audio Placeholder & Integration

```yaml
phase: 07-polish-audio
plan: 01
wave: 1
depends_on: []
files_modified: 15
autonomous: true
must_haves:
  truths:
    - "Game runs without audio file errors"
    - "Background music plays on title screen"
    - "SFX plays when player attacks"
    - "Volume settings work in pause menu"
  artifacts:
    - path: "assets/audio/music/title.ogg"
      provides: "Title screen music"
    - path: "assets/audio/sfx/attack.ogg"
      provides: "Attack sound effect"
  key_links:
    - from: "autoloads/audio_manager.gd"
      to: "assets/audio/"
      via: "Resource loading"
```

## Objective

Create programmatic placeholder audio files so the game runs without errors, then verify AudioManager integration works. User can replace placeholders with Suno-generated music later.

## Tasks

<task type="auto">
<name>Task 1: Generate Placeholder Audio Files with Python</name>
<files>assets/audio/music/*.ogg, assets/audio/sfx/*.ogg, tools/generate_placeholder_audio.py</files>
<action>
Create a Python script that generates simple placeholder audio files using scipy/numpy:

1. Create `tools/generate_placeholder_audio.py`:
   - Generate sine wave tones for music (different pitches per track)
   - Generate short blips/beeps for SFX
   - Save as WAV first, then note that Godot imports WAV fine

2. Generate these music files (1-3 seconds each, loopable):
   - title.wav - C major chord (happy)
   - neighborhood.wav - G major arpeggio (adventurous)
   - backyard.wav - A minor chord (tense)
   - game_over.wav - Descending notes (sad)
   - victory.wav - Ascending notes (triumphant)

3. Generate these SFX files (0.1-0.5 seconds):
   - attack.wav - Quick swoosh (high frequency sweep)
   - hit.wav - Impact thump
   - player_hurt.wav - Low thud
   - enemy_hurt.wav - Mid thud  
   - enemy_death.wav - Descending tone
   - player_death.wav - Low descending
   - dodge.wav - Whoosh sound
   - menu_select.wav - Click
   - menu_navigate.wav - Soft click

Use scipy.io.wavfile for output. If scipy unavailable, create minimal valid WAV files manually.
</action>
<verify>Run `python tools/generate_placeholder_audio.py` - files appear in assets/audio/</verify>
<done>All placeholder audio files exist and are valid WAV format</done>
</task>

<task type="auto">
<name>Task 2: Update AudioManager for WAV Format</name>
<files>autoloads/audio_manager.gd</files>
<action>
Update the file paths in audio_manager.gd to use .wav instead of .ogg:

1. Change all music_tracks paths from `.ogg` to `.wav`
2. Change all sfx_tracks paths from `.ogg` to `.wav`
3. Add fallback logic: try to load file, if missing print warning but don't crash

This allows placeholders to work now, and user can drop in .ogg files later (just update paths back).
</action>
<verify>Godot parses file without errors</verify>
<done>AudioManager paths updated to .wav format with graceful fallback</done>
</task>

<task type="auto">
<name>Task 3: Verify Audio Plays In-Game</name>
<files>None (verification only)</files>
<action>
Run the game and verify:

1. Launch game - title music should play
2. Start game - neighborhood music should play  
3. Attack (Space/Z) - attack sound should play
4. Get hit by enemy - hurt sound should play
5. Open pause menu (ESC) - check volume sliders exist
6. Adjust volume - verify it changes audio levels
7. Kill an enemy - death sound should play

If any audio fails to play, check:
- File exists at expected path
- AudioManager prints "AudioManager ready" in console
- No errors in Godot output
</action>
<verify>All audio plays as expected during gameplay</verify>
<done>Audio system fully functional with placeholder sounds</done>
</task>

## Verification

```bash
# Check files exist
ls -la assets/audio/music/
ls -la assets/audio/sfx/

# Run game
godot --path . 2>&1 | head -50
```

## Success Criteria

- [ ] Placeholder audio files generated (music + SFX)
- [ ] AudioManager loads files without errors
- [ ] Title screen plays music
- [ ] Attacks play sound effects
- [ ] Volume controls work
- [ ] No crashes related to missing audio
